<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Examen final (80 preguntas) ‚Äî Gen√©tica y Gen√≥mica (Temas 1‚Äì12)</title>
  <style>
    :root { --ok:#0a7a2f; --bad:#b00020; --muted:#666; --card:#f6f7f9; }
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; margin:0; background:#fff; color:#111;}
    header{padding:18px 16px; border-bottom:1px solid #e6e6e6; position:sticky; top:0; background:#fff; z-index:10;}
    header h1{font-size:18px; margin:0 0 6px;}
    header .sub{font-size:13px; color:var(--muted); display:flex; gap:12px; flex-wrap:wrap;}
    main{max-width:980px; margin:0 auto; padding:16px;}
    .controls{display:flex; gap:10px; flex-wrap:wrap; margin:12px 0 18px;}
    button{border:1px solid #d0d0d0; background:#111; color:#fff; padding:10px 12px; border-radius:10px; cursor:pointer; font-weight:600;}
    button.secondary{background:#fff; color:#111;}
    button:disabled{opacity:.55; cursor:not-allowed;}
    .note{font-size:13px; color:var(--muted); margin:0 0 10px; line-height:1.35;}
    .card{background:var(--card); border:1px solid #e6e6e6; border-radius:14px; padding:14px; margin:10px 0;}
    .qnum{font-weight:800; font-size:14px; color:#111;}
    .qtext{font-size:15px; margin:6px 0 10px; line-height:1.35;}
    .opts{display:grid; gap:8px; margin:10px 0 6px;}
    label.opt{display:flex; gap:10px; align-items:flex-start; padding:10px; border-radius:12px; background:#fff; border:1px solid #e6e6e6; cursor:pointer;}
    input[type="radio"]{margin-top:2px;}
    .resultLine{margin-top:10px; font-size:13px; display:none;}
    .resultLine.ok{color:var(--ok);}
    .resultLine.bad{color:var(--bad);}
    .correctAns{margin-top:6px; font-size:13px; display:none;}
    .correctAns b{font-weight:800;}
    .summary{border:1px solid #e6e6e6; border-radius:14px; padding:14px; background:#fff; margin:14px 0;}
    .summary h2{margin:0 0 8px; font-size:16px;}
    .grid{display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:10px;}
    .pill{background:var(--card); border:1px solid #e6e6e6; border-radius:12px; padding:10px;}
    .pill .k{font-size:12px; color:var(--muted);}
    .pill .v{font-size:18px; font-weight:900;}
    .small{font-size:12px; color:var(--muted); margin-top:6px;}
    .stickybar{position:fixed; right:16px; bottom:16px; background:#111; color:#fff; padding:10px 12px; border-radius:999px; font-size:13px; box-shadow:0 8px 24px rgba(0,0,0,.18);}
    .stickybar span{font-weight:900;}
    @media (max-width:760px){
      .grid{grid-template-columns:1fr;}
      .stickybar{left:16px; right:16px; border-radius:14px;}
    }
  </style>
</head>
<body>
<header>
  <h1>Examen final tipo test (80 preguntas) ‚Äî Gen√©tica y Gen√≥mica (Temas 1‚Äì12)</h1>
  <div class="sub">
    <div>‚úÖ 4 opciones ¬∑ 1 correcta</div>
    <div>üìå Puntuaci√≥n: +1 acierto ¬∑ ‚àí1/3 error ¬∑ 0 en blanco</div>
    <div>üéì Dificultad alta (distractores no obvios)</div>
  </div>
</header>

<main>
  <p class="note">
    Examen final mezclando <b>todos los temas</b> (1‚Äì12), con distribuci√≥n equilibrada y preguntas de estilo universitario.
    Pulsa <b>Finalizar y corregir</b> para ver nota, aciertos/errores y la respuesta correcta de cada pregunta.
  </p>

  <div class="controls">
    <button id="finishBtn">Finalizar y corregir</button>
    <button id="resetBtn" class="secondary">Reiniciar</button>
    <button id="scrollTopBtn" class="secondary">Subir arriba</button>
  </div>

  <div id="summary" class="summary" style="display:none;">
    <h2>Resultado</h2>
    <div class="grid">
      <div class="pill"><div class="k">Aciertos</div><div class="v" id="okCount">0</div></div>
      <div class="pill"><div class="k">Errores</div><div class="v" id="badCount">0</div></div>
      <div class="pill"><div class="k">En blanco</div><div class="v" id="blankCount">0</div></div>
      <div class="pill"><div class="k">Puntuaci√≥n (con penalizaci√≥n)</div><div class="v" id="score">0</div></div>
    </div>
    <div class="small" id="scoreDetail"></div>
  </div>

  <div id="quiz"></div>
</main>

<div class="stickybar" id="progress">Respondidas: <span id="answered">0</span>/80</div>

<script>
  const PENALTY = 1/3;
  const QUESTIONS = [{"t": "(T1) Una enfermedad gen√©tica ser√° hereditaria solo si la alteraci√≥n en el ADN est√° presente en‚Ä¶", "o": ["c√©lulas som√°ticas del √≥rgano afectado", "c√©lulas germinales (l√≠nea germinal)", "c√©lulas sangu√≠neas maduras", "mitocondrias del m√∫sculo esquel√©tico"], "a": 1}, {"t": "(T1) Se√±ala la afirmaci√≥n correcta sobre gen√©tica vs herencia vs cong√©nito:", "o": ["Todas las enfermedades gen√©ticas son hereditarias", "Todas las enfermedades cong√©nitas son hereditarias", "Todas las enfermedades hereditarias son gen√©ticas, pero no todas las gen√©ticas son hereditarias", "Todas las enfermedades ambientales son gen√©ticas"], "a": 2}, {"t": "(T1) Incidencia (seg√∫n el Tema 1) se refiere a‚Ä¶", "o": ["proporci√≥n de poblaci√≥n afectada en un momento dado", "porcentaje del genoma que codifica prote√≠nas", "probabilidad individual de padecer la enfermedad a lo largo de la vida", "frecuencia de casos nuevos en un periodo de tiempo"], "a": 3}, {"t": "(T1) Prevalencia (seg√∫n el Tema 1) se refiere a‚Ä¶", "o": ["proporci√≥n de poblaci√≥n afectada en un momento dado", "n√∫mero de alelos por locus en una poblaci√≥n", "frecuencia de casos nuevos por unidad de tiempo", "tasa de mutaci√≥n por generaci√≥n"], "a": 0}, {"t": "(T1) Si la incidencia neonatal es 2/1000, en 5.000 reci√©n nacidos esperar√≠as aproximadamente‚Ä¶", "o": ["5 casos", "20 casos", "2 casos", "10 casos"], "a": 3}, {"t": "(T1) La gen√≥mica se define como‚Ä¶", "o": ["an√°lisis exclusivo del ADN mitocondrial", "estudio de un √∫nico gen y su producto", "t√©cnica de bandeo cromos√≥mico", "estudio del genoma en su conjunto"], "a": 3}, {"t": "(T2) El n√∫mero normal de cromosomas humanos en c√©lulas som√°ticas es‚Ä¶", "o": ["46", "44", "47", "48"], "a": 0}, {"t": "(T2) El centr√≥mero se caracteriza porque‚Ä¶", "o": ["es una repetici√≥n 1‚Äì6 pb t√≠pica de microsat√©lites", "solo existe en cromosomas sexuales", "codifica la mayor parte de exones del cromosoma", "es la regi√≥n donde se anclan microt√∫bulos del huso en mitosis"], "a": 3}, {"t": "(T2) El centr√≥mero divide el cromosoma en brazos denominados‚Ä¶", "o": ["p (corto) y q (largo)", "x e y", "a y b", "q (corto) y p (largo)"], "a": 0}, {"t": "(T2) El ADN mitocondrial humano tiene ~16,5 kb y contiene‚Ä¶", "o": ["20.000 genes totales, 13 mitocondriales", "13 genes totales", "46 genes totales, 13 codifican prote√≠nas", "37 genes totales, 13 codifican prote√≠nas mitocondriales"], "a": 3}, {"t": "(T2) Menos del ‚Ä¶% del genoma humano codifica prote√≠nas (Tema 2).", "o": ["10%", "1,5%", "5%", "0,15%"], "a": 1}, {"t": "(T2) Los microsat√©lites (STR) son repeticiones en t√°ndem de‚Ä¶", "o": ["hasta 6 kb", "171 pb", "~300 pb", "1‚Äì6 pb"], "a": 3}, {"t": "(T2) Los LINE (L1) codifican ORF2 con actividad‚Ä¶", "o": ["ARN polimerasa II", "helicasa y ligasa", "retrotranscriptasa y endonucleasa", "quinasa y fosfatasa"], "a": 2}, {"t": "(T3) En genes codificantes, la secuencia que finalmente se traduce a prote√≠na procede de‚Ä¶", "o": ["secuencias sat√©lite", "promotores", "exones (regi√≥n codificante dentro de exones)", "intrones"], "a": 2}, {"t": "(T3) Las secuencias consenso cl√°sicas en los l√≠mites ex√≥n‚Äìintr√≥n incluyen‚Ä¶", "o": ["AG al inicio del ex√≥n y GT al final del ex√≥n", "GT al inicio del intr√≥n y AG al final del intr√≥n", "AATAAA al inicio del intr√≥n y TATA al final", "CCaat y ATaaa en el intr√≥n"], "a": 1}, {"t": "(T3) El 5'-capping del pre-mRNA consiste en‚Ä¶", "o": ["metilar citosinas del ADN", "a√±adir poli-A al 3'", "a√±adir 7-metilguanosina al 5' protegiendo frente a degradaci√≥n", "eliminar intrones por splicing"], "a": 2}, {"t": "(T3) El ORF (marco abierto de lectura) es‚Ä¶", "o": ["la regi√≥n 3'UTR posterior al cod√≥n stop", "la regi√≥n intr√≥nica eliminada", "la regi√≥n entre inicio y final de traducci√≥n que contiene codones", "solo el promotor TATA"], "a": 2}, {"t": "(T3) La metilaci√≥n de citosinas en ADN suele asociarse a‚Ä¶", "o": ["aumento de recombinaci√≥n en meiosis I", "duplicaci√≥n de exones", "represi√≥n de la expresi√≥n g√©nica", "activaci√≥n transcripcional"], "a": 2}, {"t": "(T3) En el ejemplo IGF2/H19, el patr√≥n normal es‚Ä¶", "o": ["ambos silentes siempre", "IGF2 materno activo; H19 paterno activo", "IGF2 paterno activo; H19 materno activo", "ambos bial√©licos siempre"], "a": 2}, {"t": "(T4) Un polimorfismo se define cuando‚Ä¶", "o": ["hay ‚â•2 alelos relativamente frecuentes (‚â•1%) en la poblaci√≥n", "solo afecta a exones", "la mutaci√≥n es siempre letal", "la variante aparece <0,1%"], "a": 0}, {"t": "(T4) Una SNV se denomina SNP cuando‚Ä¶", "o": ["mide >1 kb", "afecta a regi√≥n promotora", "la variante tiene frecuencia ‚â•1%", "introduce un cod√≥n stop"], "a": 2}, {"t": "(T4) Las transiciones son cambios‚Ä¶", "o": ["purina‚Üîpirimidina", "solo inserciones de 1 pb", "purina‚Üîpurina o pirimidina‚Üîpirimidina", "siempre menos frecuentes que transversiones"], "a": 2}, {"t": "(T4) En general (Tema 4), son m√°s frecuentes‚Ä¶", "o": ["transiciones", "inversiones peric√©ntricas", "transversiones", "CNV > 1 Mb"], "a": 0}, {"t": "(T4) Los indels t√≠picamente abarcan‚Ä¶", "o": ["10‚Äì100 kb obligatoriamente", "1 pb a ~1000 pb", ">1 Mb siempre", "solo 1‚Äì6 pb"], "a": 1}, {"t": "(T4) En gen√©tica forense, la huella de ADN se basa preferentemente en‚Ä¶", "o": ["bandas G del cariotipo", "CNV grandes", "microsat√©lites (STR)", "SNPs ex√≥nicos √∫nicamente"], "a": 2}, {"t": "(T4) Una inversi√≥n es parac√©ntrica si‚Ä¶", "o": ["no incluye centr√≥mero", "ocurre solo en mtDNA", "incluye centr√≥mero", "implica cambio de una base"], "a": 0}, {"t": "(T5) Para un cariotipo cl√≠nico, las c√©lulas deben‚Ä¶", "o": ["ser neuronas maduras", "estar en G0", "ser eritrocitos", "ser capaces de proliferar en cultivo"], "a": 3}, {"t": "(T5) En sangre perif√©rica, para cultivo y cariotipo se emplean sobre todo‚Ä¶", "o": ["plaquetas", "eritrocitos", "neutr√≥filos", "linfocitos T"], "a": 3}, {"t": "(T5) Para obtener cromosomas condensados en cariotipo se detienen c√©lulas en‚Ä¶", "o": ["telofase", "G1", "metafase", "S"], "a": 2}, {"t": "(T5) Un cariotipo est√°ndar (400‚Äì550 bandas) detecta t√≠picamente CNV/deleciones/duplicaciones mayores de‚Ä¶", "o": ["~0,5‚Äì1 Mb", "~50‚Äì100 kb", "~5‚Äì10 Mb", "~100 bp"], "a": 2}, {"t": "(T5) FISH es especialmente √∫til porque‚Ä¶", "o": ["secuenc√≠a todo el genoma de forma no dirigida", "solo sirve en metafase, nunca en interfase", "no requiere sondas marcadas", "detecta presencia/ausencia y organizaci√≥n in situ de una secuencia concreta mediante sondas fluorescentes"], "a": 3}, {"t": "(T5) En array-CGH, una deleci√≥n en el paciente (respecto a referencia) se observa como predominio de‚Ä¶", "o": ["ausencia de ambos", "amarillo siempre", "rojo sobre verde", "verde sobre rojo"], "a": 2}, {"t": "(T6) La causa m√°s frecuente del s√≠ndrome de Down es‚Ä¶", "o": ["disom√≠a uniparental del 21", "deleci√≥n parcial 21q", "translocaci√≥n robertsoniana (14;21)", "no disyunci√≥n mei√≥tica con trisom√≠a 21 libre (47,+21)"], "a": 3}, {"t": "(T6) Aproximadamente ~4% de Down se debe a‚Ä¶", "o": ["translocaci√≥n robertsoniana implicando 21q y otro acroc√©ntrico", "deleci√≥n 22q11.2", "inversi√≥n del 21", "mosaicismo por rescate tris√≥mico siempre"], "a": 0}, {"t": "(T6) Disom√≠a uniparental (DUP) significa‚Ä¶", "o": ["trisom√≠a en mosaico", "dos cromosomas distintos del mismo progenitor", "duplicaci√≥n segmentaria", "ambas copias de un cromosoma derivan del mismo progenitor"], "a": 3}, {"t": "(T6) Isodisom√≠a se refiere a‚Ä¶", "o": ["dos copias id√©nticas derivadas de crom√°tidas hermanas del mismo progenitor", "una copia materna y otra paterna", "p√©rdida del centr√≥mero", "dos copias distintas del mismo progenitor"], "a": 0}, {"t": "(T6) El s√≠ndrome de microdeleci√≥n m√°s frecuente descrito es‚Ä¶", "o": ["Smith-Magenis", "Williams (7q)", "DiGeorge/velocardiofacial (deleci√≥n 22q11.2)", "Ojo de gato"], "a": 2}, {"t": "(T6) En DiGeorge, un gen clave asociado a malformaciones cardiacas/craneofaciales es‚Ä¶", "o": ["TBX1", "RAI1", "ELN", "SRY"], "a": 0}, {"t": "(T6) Una raz√≥n por la que aneuploid√≠as sexuales suelen ser menos graves es‚Ä¶", "o": ["por inactivaci√≥n del X y bajo contenido g√©nico del Y", "porque no hay recombinaci√≥n en sexos", "porque siempre hay trisom√≠a", "porque el X nunca se expresa"], "a": 0}, {"t": "(T7) En herencia autos√≥mica dominante (heterocigoto afectado √ó sano), el riesgo por hijo es‚Ä¶", "o": ["100%", "25%", "75%", "50%"], "a": 3}, {"t": "(T7) Heterocigoto compuesto significa‚Ä¶", "o": ["dos alelos normales distintos", "dos alelos id√©nticos mutantes", "un alelo mutante en X en var√≥n", "dos alelos mutantes diferentes en el mismo locus, sin alelo normal"], "a": 3}, {"t": "(T7) Hemicigoto se aplica t√≠picamente a‚Ä¶", "o": ["mujer con dos alelos mutantes", "var√≥n con un alelo en locus del X", "mtDNA", "cualquier locus autos√≥mico"], "a": 1}, {"t": "(T7) Penetrancia se define como‚Ä¶", "o": ["gravedad cl√≠nica", "frecuencia poblacional del alelo", "n√∫mero de alelos en el locus", "proporci√≥n de individuos con genotipo patol√≥gico que manifiestan la enfermedad"], "a": 3}, {"t": "(T7) En autos√≥mica recesiva, si ambos padres son portadores, el riesgo por hijo afectado es‚Ä¶", "o": ["1/4", "1/2", "1/8", "1/3"], "a": 0}, {"t": "(T7) Dominancia negativa implica que‚Ä¶", "o": ["hay ganancia de funci√≥n pura", "la prote√≠na mutante interfiere con la normal", "solo hay haploinsuficiencia", "la prote√≠na mutante no se expresa"], "a": 1}, {"t": "(T8) En enfermedades multifactoriales, la contribuci√≥n de variantes gen√©ticas suele ser‚Ä¶", "o": ["nula", "mendeliana dominante", "siempre recesiva completa", "aditiva/acumulativa"], "a": 3}, {"t": "(T8) Si una enfermedad muestra rMC > rDC pero rMC < 1, sugiere‚Ä¶", "o": ["error sistem√°tico", "solo ambiente", "solo gen√©tica mendeliana", "componente gen√©tico y ambiental"], "a": 3}, {"t": "(T8) F√≥rmula de Falconer para heredabilidad (H¬≤) es‚Ä¶", "o": ["H¬≤ = (rMC + rDC)/2", "H¬≤ = rMC ‚àí rDC", "H¬≤ = 2(rMC ‚àí rDC)", "H¬≤ = 2(rDC ‚àí rMC)"], "a": 2}, {"t": "(T8) En asociaci√≥n caso-control, el OR en tabla 2√ó2 se calcula como‚Ä¶", "o": ["(a/c)/(b/d)=ad/bc", "(a-d)/(b-c)", "(a+b)/(c+d)", "(a√ób)/(c√ód)"], "a": 0}, {"t": "(T8) En un Manhattan plot de GWAS, el eje X suele representar‚Ä¶", "o": ["OR del SNP", "frecuencia al√©lica en casos", "tama√±o del efecto ambiental", "localizaci√≥n gen√≥mica del SNP"], "a": 3}, {"t": "(T8) Un rasgo cualitativo (Tema 8) se caracteriza por‚Ä¶", "o": ["variaci√≥n continua", "exigir f√≥rmula de Falconer", "medirse siempre en mmHg", "fenotipos discretos (p. ej., afectado/no afectado)"], "a": 3}, {"t": "(T8) En el ejemplo del Tema 8, loci modificadores de gravedad pulmonar en FQ incluyen‚Ä¶", "o": ["MBL2 y TGFB1", "FMR1 y HTT", "SRY y TBX1", "ELN y RAI1"], "a": 0}, {"t": "(T9) La frecuencia de recombinaci√≥n (FR) se calcula como‚Ä¶", "o": ["parentales/total √ó100%", "recombinantes/total √ó100%", "1‚àíŒ∏", "(a+b)/(c+d)"], "a": 1}, {"t": "(T9) El par√°metro Œ∏ (theta) var√≠a entre‚Ä¶", "o": ["0 y 0,5", "0,5 y 1", "‚àí1 y 1", "0 y 1"], "a": 0}, {"t": "(T9) Œ∏ = 0 indica‚Ä¶", "o": ["ligamiento completo (sin recombinaci√≥n)", "no ligamiento", "recombinaci√≥n m√°xima", "equilibrio de ligamiento"], "a": 0}, {"t": "(T9) FR‚âà50% se espera cuando los loci est√°n‚Ä¶", "o": ["en cromosomas distintos o muy separados en el mismo cromosoma", "en mtDNA", "muy pr√≥ximos en el mismo cromosoma", "en el centr√≥mero siempre"], "a": 0}, {"t": "(T9) En equilibrio de ligamiento, la frecuencia de un haplotipo es‚Ä¶", "o": ["siempre menor que el producto", "siempre mayor que el producto", "independiente de frecuencias al√©licas", "producto de frecuencias al√©licas"], "a": 3}, {"t": "(T9) D‚Äô se define como‚Ä¶", "o": ["D√óDmax", "Dmax/D", "D/Dmax", "D + Dmax"], "a": 2}, {"t": "(T9) Un marcador √∫til para an√°lisis de ligamiento debe ser‚Ä¶", "o": ["polim√≥rfico y con localizaci√≥n conocida", "solo de novo", "solo proteico", "no polim√≥rfico"], "a": 0}, {"t": "(T10) El desenlace m√°s frecuente de variantes patog√©nicas es‚Ä¶", "o": ["expresi√≥n ect√≥pica siempre", "ganancia de funci√≥n", "propiedad nueva", "p√©rdida de funci√≥n proteica"], "a": 3}, {"t": "(T10) Mutaciones en elementos reguladores suelen afectar principalmente a‚Ä¶", "o": ["n√∫mero de cromosomas", "longitud del tel√≥mero", "abundancia/tiempo/tipo celular de expresi√≥n del mRNA", "secuencia de amino√°cidos"], "a": 2}, {"t": "(T10) La Œ≤-talasemia se debe a‚Ä¶", "o": ["deleci√≥n 22q11.2", "disminuci√≥n de producci√≥n de Œ≤-globina", "ganancia de funci√≥n de Œ≤-globina", "mutaci√≥n mitocondrial"], "a": 1}, {"t": "(T10) La enfermedad de c√©lulas I se asocia a defecto de‚Ä¶", "o": ["recombinaci√≥n mei√≥tica", "modificaci√≥n postraduccional (marcado manosa-6-fosfato)", "metilaci√≥n del ADN", "traducci√≥n"], "a": 1}, {"t": "(T10) Heterogeneidad de locus significa‚Ä¶", "o": ["m√°s de un alelo en un locus", "m√°s de un locus puede producir un mismo fenotipo", "ausencia de variaci√≥n", "un locus produce varios fenotipos"], "a": 1}, {"t": "(T10) Heterogeneidad cl√≠nica/fenot√≠pica significa‚Ä¶", "o": ["m√°s de un locus asociado a un fenotipo", "m√°s de un alelo en un locus", "equilibrio de ligamiento", "m√°s de un fenotipo asociado a mutaciones en un √∫nico locus"], "a": 3}, {"t": "(T10) Una mutaci√≥n en regi√≥n no codificante puede alterar‚Ä¶", "o": ["solo la secuencia codificante", "splicing/estabilidad de mRNA y/o regulaci√≥n/dosis g√©nica", "solo bandeo G", "solo recombinaci√≥n telom√©rica"], "a": 1}, {"t": "(T11) Una neoplasia se define como‚Ä¶", "o": ["proliferaci√≥n celular incontrolada con masa/tumor", "infecci√≥n viral aguda", "necrosis tisular sin proliferaci√≥n", "proliferaci√≥n controlada sin masa"], "a": 0}, {"t": "(T11) C√°ncer maligno se caracteriza por‚Ä¶", "o": ["apoptosis aumentada obligatoria", "crecimiento limitado por contacto", "invasi√≥n local y met√°stasis", "encapsulaci√≥n sin invasi√≥n"], "a": 2}, {"t": "(T11) Los carcinomas se originan en‚Ä¶", "o": ["tejido mesenquimatoso", "tejido adiposo exclusivamente", "m√©dula √≥sea", "tejido epitelial"], "a": 3}, {"t": "(T11) Las mutaciones no recurrentes y aparentemente aleatorias en tumores se llaman‚Ä¶", "o": ["de impronta", "conductoras", "pasajeras", "germinales"], "a": 2}, {"t": "(T11) La hip√≥tesis de Knudson se conoce como‚Ä¶", "o": ["mosaicismo som√°tico", "two-hit (dos eventos)", "equilibrio de ligamiento", "heredabilidad de Falconer"], "a": 1}, {"t": "(T11) PTEN act√∫a principalmente‚Ä¶", "o": ["activando directamente BCR-ABL1", "inhibiendo p53 por ubiquitinaci√≥n", "defosforilando PIP3‚ÜíPIP2", "fosforilando PIP2‚ÜíPIP3"], "a": 2}, {"t": "(T11) El cromosoma Filadelfia (t(9;22)) genera el gen quim√©rico‚Ä¶", "o": ["IGH‚ÄìBCL2", "EML4‚ÄìALK", "BCR‚ÄìABL1", "RB1‚ÄìTP53"], "a": 2}, {"t": "(T12) El consejo gen√©tico (ASHG, 1975) es un proceso de comunicaci√≥n sobre‚Ä¶", "o": ["problemas humanos asociados a aparici√≥n o riesgo de un trastorno gen√©tico en una familia", "diagn√≥stico radiol√≥gico de tumores", "selecci√≥n obligatoria de opciones reproductivas", "tratamiento farmacol√≥gico estandarizado"], "a": 0}, {"t": "(T12) Una caracter√≠stica esencial del consejo gen√©tico es que es‚Ä¶", "o": ["autom√°tico", "judicial", "no directivo", "directivo"], "a": 2}, {"t": "(T12) En AD (heterocigoto √ó sano) el riesgo por hijo es‚Ä¶", "o": ["25%", "100%", "50%", "75%"], "a": 2}, {"t": "(T12) En AR (dos portadores), proporciones esperadas en la descendencia son‚Ä¶", "o": ["75% afectado, 25% sano", "25% afectado, 50% portador sano, 25% sano", "50% afectado, 50% sano", "100% portador"], "a": 1}, {"t": "(T12) En dominante ligada al X, un var√≥n afectado transmite la mutaci√≥n a‚Ä¶", "o": ["todas las hijas y a ning√∫n hijo var√≥n", "todos los hijos varones y ninguna hija", "la mitad de hijas y la mitad de hijos", "todos los hijos varones"], "a": 0}, {"t": "(T12) En recesiva ligada al X, t√≠picamente‚Ä¶", "o": ["los varones afectados no transmiten a sus hijos varones", "son frecuentes mujeres afectadas", "hay transmisi√≥n padre‚Üíhijo var√≥n frecuente", "los varones afectados transmiten a todos los hijos varones"], "a": 0}, {"t": "(T12) En el ejemplo: padre portador CF y madre con frecuencia de portadores 1/35; riesgo de hijo afectado (AR) es‚Ä¶", "o": ["1/280", "1/140", "1/70", "1/35"], "a": 1}];

  const quizEl = document.getElementById("quiz");
  const answeredEl = document.getElementById("answered");

  function escapeHtml(s){
    return s.replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c]));
  }

  function render(){
    quizEl.innerHTML = "";
    QUESTIONS.forEach((q, idx) => {
      const card = document.createElement("section");
      card.className = "card";
      card.id = "q" + (idx+1);

      card.innerHTML = `
        <div class="qnum">Pregunta ${idx+1}</div>
        <div class="qtext">${escapeHtml(q.t)}</div>
        <div class="opts">
          ${q.o.map((opt, j) => `
            <label class="opt">
              <input type="radio" name="q${idx}" value="${j}">
              <div><b>${String.fromCharCode(65+j)}.</b> ${escapeHtml(opt)}</div>
            </label>
          `).join("")}
        </div>
        <div class="resultLine" id="res_${idx}"></div>
        <div class="correctAns" id="corr_${idx}"></div>
      `;
      quizEl.appendChild(card);
    });
    updateAnsweredCount();
  }

  function getSelected(idx){
    const checked = document.querySelector(`input[name="q${idx}"]:checked`);
    return checked ? Number(checked.value) : null;
  }

  function updateAnsweredCount(){
    let answered = 0;
    for (let i=0;i<QUESTIONS.length;i++) if (getSelected(i) !== null) answered++;
    answeredEl.textContent = answered;
  }

  document.addEventListener("change", (e) => {
    if (e.target && e.target.matches('input[type="radio"]')) updateAnsweredCount();
  });

  function grade(){
    let ok=0, bad=0, blank=0;
    const total = QUESTIONS.length;

    for (let i=0;i<total;i++) {
      const sel = getSelected(i);
      const q = QUESTIONS[i];

      const res = document.getElementById(`res_${i}`);
      const corr = document.getElementById(`corr_${i}`);

      res.style.display = "block";
      corr.style.display = "block";

      const correctLetter = String.fromCharCode(65 + q.a);
      const correctText = q.o[q.a];

      corr.innerHTML = `Respuesta correcta: <b>${correctLetter}</b>. ${escapeHtml(correctText)}`;

      if (sel === null) {
        blank++;
        res.className = "resultLine bad";
        res.textContent = "‚ö™ En blanco.";
      } else if (sel === q.a) {
        ok++;
        res.className = "resultLine ok";
        res.textContent = "‚úÖ Correcta.";
      } else {
        bad++;
        res.className = "resultLine bad";
        res.textContent = `‚ùå Incorrecta. Marcaste ${String.fromCharCode(65+sel)}.`;
      }
    }

    const rawScore = ok - bad * PENALTY;

    document.getElementById("summary").style.display = "block";
    document.getElementById("okCount").textContent = ok;
    document.getElementById("badCount").textContent = bad;
    document.getElementById("blankCount").textContent = blank;
    document.getElementById("score").textContent = rawScore.toFixed(2);

    document.getElementById("scoreDetail").textContent =
      `C√°lculo: ${ok}√ó1 ‚àí ${bad}√ó(1/3) = ${ok} ‚àí ${(bad/3).toFixed(2)} = ${rawScore.toFixed(2)} (sobre ${total}).`;

    document.querySelectorAll('input[type="radio"]').forEach(inp => inp.disabled = true);
    document.getElementById("finishBtn").disabled = true;

    document.getElementById("summary").scrollIntoView({behavior:"smooth", block:"start"});
  }

  function resetAll(){
    document.querySelectorAll('input[type="radio"]').forEach(inp => {
      inp.disabled = false;
      inp.checked = false;
    });

    for (let i=0;i<QUESTIONS.length;i++) {
      const res = document.getElementById(`res_${i}`);
      const corr = document.getElementById(`corr_${i}`);
      if (res) res.style.display = "none";
      if (corr) corr.style.display = "none";
    }

    document.getElementById("summary").style.display = "none";
    document.getElementById("finishBtn").disabled = false;
    updateAnsweredCount();
    window.scrollTo({top:0, behavior:"smooth"});
  }

  document.getElementById("finishBtn").addEventListener("click", grade);
  document.getElementById("resetBtn").addEventListener("click", resetAll);
  document.getElementById("scrollTopBtn").addEventListener("click", () => window.scrollTo({top:0, behavior:"smooth"}));

  render();
</script>
</body>
</html>
